<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC 
			"-//W3C//DTD XHTML 1.0 Strict//EN" 
			"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Gestão de Alunos</title>
</h:head>
<h:body>
	<h1 style="color: red;">Gestão de Alunos</h1>
	<p:messages/>
	<h:form>
	<h:panelGrid columns="3">
		<h:outputLabel value="Id : " />
		<h:inputText id="txtId" value="${alunoMB.aluno.id}" />
		<p:message for="txtId"/>
		<h:outputLabel value="RA : " />
		<h:inputText	id="txtRA"
						value="${alunoMB.aluno.ra}"
						validatorMessage="O RA precisa conter entre 5 e 10 caracteres">
			<f:validateLength minimum="5" maximum="10"/>
		</h:inputText>
		<p:message for="txtRA"/>
		<h:outputLabel value="Nome : " />
		<h:inputText id="txtNome" value="${alunoMB.aluno.nome}" />
		<p:message for="txtNome"/>
		<h:outputLabel value="Idade : " />
		<h:inputText id="txtIdade" value="${alunoMB.aluno.idade}" />
		<p:message for="txtIdade"/>
		<h:outputLabel value="Nascimento : " />
		<p:calendar id="txtNascimento" mode="inline" 
					value="${alunoMB.aluno.nascimento}"
					pattern="dd/MM/yyyy"/>
		<p:message for="txtNascimento"/>
		<h:commandButton	rendered="${alunoMB.aluno.id == 0}"
							value="Adicionar"
							action="${alunoMB.adicionar()}"/>
		<h:commandButton	rendered="${alunoMB.aluno.id != 0}"
							value="Atualizar"
							action="${alunoMB.atualizar()}"/>
		<h:commandButton	value="Pesquisar"
							action="${alunoMB.pesquisar()}"/>
	</h:panelGrid>
	<h3 style="color: red;">Lista de Alunos</h3>
	<p:dataTable	value="${alunoMB.alunos}" 
					var="aluno">
		<p:column headerText="Id">${aluno.id}</p:column>
		<p:column headerText="RA">${aluno.ra}</p:column>
		<p:column headerText="Nome">${aluno.nome}</p:column>
		<p:column headerText="Nascimento">${aluno.nascimento}</p:column>
		<p:column headerText="Ações">
			<p:columnGroup>Apagar	Detalhes</p:columnGroup>
		</p:column>
	</p:dataTable>
	</h:form>
</h:body>
</html>